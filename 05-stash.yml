---
- name: Transfer WAR files
  hosts: g1
  tasks:
    - name: Ensure source directory exists
      ansible.builtin.file:
        path: "/path/to/checkout/target/"
        state: directory
      become: yes

    - name: Copy WAR files to a temporary directory
      ansible.builtin.copy:
        src: "/path/to/checkout/target/*.war"
        dest: "/tmp/"
      become: yes

- name: Deploy WAR files to another server
  hosts: g2
  tasks:
    - name: Ensure destination directory exists
      ansible.builtin.file:
        path: "/opt/tomcat/webapps/"
        state: directory
      become: yes

    - name: Transfer WAR files to destination server
      ansible.builtin.synchronize:
        src: "/tmp/"
        dest: "/opt/tomcat/webapps/"
        rsync_opts: --include='*.war' --exclude='*'
      become: yes
...